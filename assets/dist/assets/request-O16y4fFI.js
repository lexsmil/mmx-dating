import{i as g,a as C}from"./vesp-CoN2_ruj.js";import{k as w,z as $,L as A,m as z,X as F}from"./vue-bootstrap-DBCOxa0I.js";import{c as o}from"./api-B-d5KOUk.js";import{f as R,a as h}from"./mgr-CvAZO9Dx.js";import{d as L,z as c,A as i,g as M,o as N,c as S,q as e,w as l,u as s,e as T,m as U}from"./vue-DO4nxP2T.js";import"./vue-router-Znha0kWm.js";const X="mgr/requests",D="id",E="desc",O=L({__name:"request",setup(G){const u=c(),f=i(()=>[{route:{name:"request-create"},icon:"plus",title:o("models.request.title_one")}]),p=i(()=>[{key:"id",label:o("models.request.id"),sortable:!0},{key:"name",label:o("models.request.name"),sortable:!0},{key:"sex",label:o("models.request.sex"),sortable:!0,formatter:R},{key:"age",label:o("models.request.age"),sortable:!0},{key:"phone",label:o("models.request.phone"),sortable:!0},{key:"created_at",label:o("models.event.created_at"),sortable:!0,formatter:h}]),_=i(()=>{var t;return[{route:{name:"request-id-edit"},icon:"edit",title:o("actions.edit")},{function:(t=u.value)==null?void 0:t.delete,icon:"times",title:o("actions.delete"),variant:"danger"}]}),n=c({query:"",event_id:null,sex:null});function b(t){return t&&!t.active?"inactive":""}function v(){n.value.query="",n.value.event_id=null,n.value.sex=null}return(t,a)=>{const q=g,m=w,d=$,x=A,k=z,y=F,V=M("RouterView"),B=C;return N(),S("div",null,[e(y,{class:"mb-3"},{default:l(()=>[e(d,null,{default:l(()=>[e(m,{label:t.$t("models.event.title_one")},{default:l(()=>[e(q,{modelValue:s(n).event_id,"onUpdate:modelValue":a[0]||(a[0]=r=>s(n).event_id=r),url:"mgr/events",onChange:a[1]||(a[1]=r=>s(u).refresh())},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(d,null,{default:l(()=>[e(m,{label:t.$t("models.request.sex")},{default:l(()=>[e(x,{modelValue:s(n).sex,"onUpdate:modelValue":a[2]||(a[2]=r=>s(n).sex=r),default:null,options:[{value:null,text:t.$t("models.request.sex")},{value:0,text:t.$t("models.request.sex.man")},{value:1,text:t.$t("models.request.sex.woman")}],required:""},null,8,["modelValue","options"])]),_:1},8,["label"])]),_:1}),e(d,null,{default:l(()=>[e(m,{label:"_"},{default:l(()=>[e(k,{variant:"primary",onClick:v},{default:l(()=>[T(" Сбросить фильтры ")]),_:1})]),_:1})]),_:1})]),_:1}),e(B,U({ref_key:"table",ref:u},{url:X,fields:s(p),headerActions:s(f),tableActions:s(_),filters:s(n),rowClass:b,sort:D,dir:E}),{default:l(()=>[e(V)]),_:1},16)])}}});export{O as default};
